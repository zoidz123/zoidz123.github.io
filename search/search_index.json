{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Introduction to DFlow DFlow \u2013 D ecentralized Flow DFlow is a decentralized order flow marketplace, powered by DFlow Protocol's open and fair payment-for-order-flow (PFOF) model. DFlow: The first order flow marketplace DFlow is an interface for order flow sources to sell their order flow to market makers in a transparent, competitive, and permissionless way. DFlow provides efficient market-driven price discovery for order flow, which are buy and sell orders that are sold in an opaque environment, in traditional markets. DFlow is designed to support order flow from various L1 chains and rollups. DFlow Protocol: The open and fair PFOF standard The DFlow Protocol is the suite of on-chain programs, built as a standalone Cosmos based blockchain, and off-chain programs that together create the infrastructure defining the first open and fair PFOF model. An open and fair PFOF model means verifiable best execution, transparent order flow pricing, and open competition amongst market makers. In practice, the protocol allows market makers to compete in order flow auctions created by order flow sources. Why DFlow? Firstly, order flow should be defined. In crypto, order flow has been used to mean any transaction that changes the blockchain state. Here, order flow strictly means buy and sell orders at the application layer , as opposed to transactions closer to the validator layer . DFlow is inspired and built from the following observations: Decentralization of order flow is necessary to ensure the most optimal execution environment for retail. Private order, meaning order flow sent exclusively to a market maker, leads to centralization and less competition. Blockchain technology redistributes power from institutions back to individuals by reducing trust assumptions in the entire finance supply chain. Algorithmically enforcing order execution on-chain guarantees best execution and lets the public easily verify the legitimacy of any transaction. There is an intense market need for monetization of order flow safely, freely, and with maximum competition. Enabling the proper monetization of order flow allows the crypto application layer to develop novel features for the end users. Overview of the DFlow marketplace DFlow is the interface for interacting with the DFlow Protocol and allows crypto brokerages sell order flow to market makers on an open marketplace. DFlow is considered a primary or wholesale market. In a traditional wholesale market, a business buys supplies or materials straight from the manufacturer. On DFlow, market makers buy order flow directly from the brokerage. On DFlow, brokerages can create, manage, monitor, and analyze order flow auctions. On the other side, market makers submit bids into auctions. The winner of the auction receive the exclusive right to fill the underlying orders. The benefit of an active and market-driven order flow marketplace does not only benefit the immediate two parties involved (e.g. crypto brokerages and market makers). The most important beneficiary is the group of individual traders who trade on the venues that are routing order flow to DFlow. How does DFlow benefit retail directly While retail is not the immediate user, they directly benefit from crypto brokerages selling order flow on DFlow. Brokerages can pass on the following: Zero fee swapping. No hidden fees. Neither DFlow nor participating market makers take a trading or \"convenience\" fee. Guaranteed best execution. The DFlow PFOF model uses a decentralized price oracle to ensure market makers fill at the best available market price. Real cost savings. Market makers often fill at better than market prices, resulting in price and size improvements. Overview of the DFlow Protocol architecture The DFlow Protocol is primarily comprised of programs on the DFlow appchain that power a decentralized order flow auction market. In addition, there are two main off-chain programs that monitor and support the DFlow appchain. It is beneficial for both crypto brokerages and market makers to understand the core components that make up the DFlow Protocol. DFlow Node The DFlow node or validator is the on-chain entity that is responsible for validating transactions on the DFlow appchain. The DFlow appchain is intended to be run by a decentralized network of nodes. Nodes will also store auction related data, including information about auction status, order fill quality, payments made by market makers etc. Signatory Server Each DFlow node will run a signatory server , an off-chain sidecar that handles periphery applications including processing quote requests, crafting blockchain transactions, monitoring bridge transactions etc. Endorsement Server DFlow Protocol's open and fair PFOF model associates user intent with order flow, which improves order flow price discovery. A crypto brokerage routing orders to DFlow incorporates intent into order flow by running an endorsement server . Order flow is best priced not only according to a set of user-defined parameters but also external factors (e.g. who is sending the order, why is the order being placed).","title":"Introduction to DFlow"},{"location":"#introduction-to-dflow","text":"","title":"Introduction to DFlow"},{"location":"#dflow-decentralized-flow","text":"DFlow is a decentralized order flow marketplace, powered by DFlow Protocol's open and fair payment-for-order-flow (PFOF) model.","title":"DFlow \u2013 Decentralized Flow"},{"location":"#dflow-the-first-order-flow-marketplace","text":"DFlow is an interface for order flow sources to sell their order flow to market makers in a transparent, competitive, and permissionless way. DFlow provides efficient market-driven price discovery for order flow, which are buy and sell orders that are sold in an opaque environment, in traditional markets. DFlow is designed to support order flow from various L1 chains and rollups.","title":"DFlow: The first order flow marketplace"},{"location":"#dflow-protocol-the-open-and-fair-pfof-standard","text":"The DFlow Protocol is the suite of on-chain programs, built as a standalone Cosmos based blockchain, and off-chain programs that together create the infrastructure defining the first open and fair PFOF model. An open and fair PFOF model means verifiable best execution, transparent order flow pricing, and open competition amongst market makers. In practice, the protocol allows market makers to compete in order flow auctions created by order flow sources.","title":"DFlow Protocol: The open and fair PFOF standard"},{"location":"#why-dflow","text":"Firstly, order flow should be defined. In crypto, order flow has been used to mean any transaction that changes the blockchain state. Here, order flow strictly means buy and sell orders at the application layer , as opposed to transactions closer to the validator layer . DFlow is inspired and built from the following observations: Decentralization of order flow is necessary to ensure the most optimal execution environment for retail. Private order, meaning order flow sent exclusively to a market maker, leads to centralization and less competition. Blockchain technology redistributes power from institutions back to individuals by reducing trust assumptions in the entire finance supply chain. Algorithmically enforcing order execution on-chain guarantees best execution and lets the public easily verify the legitimacy of any transaction. There is an intense market need for monetization of order flow safely, freely, and with maximum competition. Enabling the proper monetization of order flow allows the crypto application layer to develop novel features for the end users.","title":"Why DFlow?"},{"location":"#overview-of-the-dflow-marketplace","text":"DFlow is the interface for interacting with the DFlow Protocol and allows crypto brokerages sell order flow to market makers on an open marketplace. DFlow is considered a primary or wholesale market. In a traditional wholesale market, a business buys supplies or materials straight from the manufacturer. On DFlow, market makers buy order flow directly from the brokerage. On DFlow, brokerages can create, manage, monitor, and analyze order flow auctions. On the other side, market makers submit bids into auctions. The winner of the auction receive the exclusive right to fill the underlying orders. The benefit of an active and market-driven order flow marketplace does not only benefit the immediate two parties involved (e.g. crypto brokerages and market makers). The most important beneficiary is the group of individual traders who trade on the venues that are routing order flow to DFlow.","title":"Overview of the DFlow marketplace"},{"location":"#how-does-dflow-benefit-retail-directly","text":"While retail is not the immediate user, they directly benefit from crypto brokerages selling order flow on DFlow. Brokerages can pass on the following: Zero fee swapping. No hidden fees. Neither DFlow nor participating market makers take a trading or \"convenience\" fee. Guaranteed best execution. The DFlow PFOF model uses a decentralized price oracle to ensure market makers fill at the best available market price. Real cost savings. Market makers often fill at better than market prices, resulting in price and size improvements.","title":"How does DFlow benefit retail directly"},{"location":"#overview-of-the-dflow-protocol-architecture","text":"The DFlow Protocol is primarily comprised of programs on the DFlow appchain that power a decentralized order flow auction market. In addition, there are two main off-chain programs that monitor and support the DFlow appchain. It is beneficial for both crypto brokerages and market makers to understand the core components that make up the DFlow Protocol.","title":"Overview of the DFlow Protocol architecture"},{"location":"#dflow-node","text":"The DFlow node or validator is the on-chain entity that is responsible for validating transactions on the DFlow appchain. The DFlow appchain is intended to be run by a decentralized network of nodes. Nodes will also store auction related data, including information about auction status, order fill quality, payments made by market makers etc.","title":"DFlow Node"},{"location":"#signatory-server","text":"Each DFlow node will run a signatory server , an off-chain sidecar that handles periphery applications including processing quote requests, crafting blockchain transactions, monitoring bridge transactions etc.","title":"Signatory Server"},{"location":"#endorsement-server","text":"DFlow Protocol's open and fair PFOF model associates user intent with order flow, which improves order flow price discovery. A crypto brokerage routing orders to DFlow incorporates intent into order flow by running an endorsement server . Order flow is best priced not only according to a set of user-defined parameters but also external factors (e.g. who is sending the order, why is the order being placed).","title":"Endorsement Server"},{"location":"creating-auctions/","text":"Create auctions Learn how to create auctions to sell order flow The first step to selling order flow on DFlow is creating order flow auctions through the DFlow interface. Each order flow auction represents a unique grade of order flow, as determined by a set of user-defined parameters. You have the flexibility to tranche user orders based on specific wants and needs. Market makers will view auction specs and submit bids in first-price sealed-bid auctions. Use the DFlow interface The DFlow interface serves as the hassle-free control center for order flow sources and enables them to sell order flow to market makers in competitive and transparent auctions. The interface allows you to create and manage auctions, view payments received from market makers, transfer funds to DFlow etc. Creating auctions on DFlow requires a one-time flat fee in USDC to reduce network spam. Use DFlow USDC Bridge to deposit or withdraw USDC.","title":"Create auction"},{"location":"creating-auctions/#create-auctions","text":"","title":"Create auctions"},{"location":"creating-auctions/#learn-how-to-create-auctions-to-sell-order-flow","text":"The first step to selling order flow on DFlow is creating order flow auctions through the DFlow interface. Each order flow auction represents a unique grade of order flow, as determined by a set of user-defined parameters. You have the flexibility to tranche user orders based on specific wants and needs. Market makers will view auction specs and submit bids in first-price sealed-bid auctions.","title":"Learn how to create auctions to sell order flow"},{"location":"creating-auctions/#use-the-dflow-interface","text":"The DFlow interface serves as the hassle-free control center for order flow sources and enables them to sell order flow to market makers in competitive and transparent auctions. The interface allows you to create and manage auctions, view payments received from market makers, transfer funds to DFlow etc. Creating auctions on DFlow requires a one-time flat fee in USDC to reduce network spam. Use DFlow USDC Bridge to deposit or withdraw USDC.","title":"Use the DFlow interface"},{"location":"depositing-withdrawing/","text":"Transfer USDC Learn how to transfer USDC to create and bid into auctions All auctions are hosted on the DFlow appchain. Order flow sources will need to transfer USDC to DFlow to create auctions. Market makers will need to transfer USDC to pay for order flow. Use DFlow USDC Bridge The DFlow USDC Bridge allows order flow sources and market makers to transfer USDC from Solana to DFlow. This can be done through the DFlow interface. What chains are supported The bridge chose Solana as the USDC on-ramp to DFlow. E.g. if you are a wallet on Ethereum, you will need to create an account on Solana. What assets are supported The bridge only supports USDC. How long does transferring take Transfer should be confirmed within a few minutes. Risk Mitigation By only supporting one asset and source chain, the DFlow USDC Bridge mitigates risks that come with connecting multiple chains and a list of assets. While DFlow is built as a sovereign blockchain, its intended behavior is to solely support order flow auctions and will not support other DeFi protocols. Thus, it's expected there won't be large amounts of long-term capital sitting in the bridge, and funds will be bridged on an as-needed basis for auction creation and payments.","title":"Transfer USDC"},{"location":"depositing-withdrawing/#transfer-usdc","text":"","title":"Transfer USDC"},{"location":"depositing-withdrawing/#learn-how-to-transfer-usdc-to-create-and-bid-into-auctions","text":"All auctions are hosted on the DFlow appchain. Order flow sources will need to transfer USDC to DFlow to create auctions. Market makers will need to transfer USDC to pay for order flow.","title":"Learn how to transfer USDC to create and bid into auctions"},{"location":"depositing-withdrawing/#use-dflow-usdc-bridge","text":"The DFlow USDC Bridge allows order flow sources and market makers to transfer USDC from Solana to DFlow. This can be done through the DFlow interface.","title":"Use DFlow USDC Bridge"},{"location":"depositing-withdrawing/#what-chains-are-supported","text":"The bridge chose Solana as the USDC on-ramp to DFlow. E.g. if you are a wallet on Ethereum, you will need to create an account on Solana.","title":"What chains are supported"},{"location":"depositing-withdrawing/#what-assets-are-supported","text":"The bridge only supports USDC.","title":"What assets are supported"},{"location":"depositing-withdrawing/#how-long-does-transferring-take","text":"Transfer should be confirmed within a few minutes.","title":"How long does transferring take"},{"location":"depositing-withdrawing/#risk-mitigation","text":"By only supporting one asset and source chain, the DFlow USDC Bridge mitigates risks that come with connecting multiple chains and a list of assets. While DFlow is built as a sovereign blockchain, its intended behavior is to solely support order flow auctions and will not support other DeFi protocols. Thus, it's expected there won't be large amounts of long-term capital sitting in the bridge, and funds will be bridged on an as-needed basis for auction creation and payments.","title":"Risk Mitigation"},{"location":"dflow-node/","text":"DFlow Node DFlow Protocol is made up of a network of decentralized nodes that validate transactions and host order flow auctions on the DFlow appchain.","title":"DFlow Node"},{"location":"dflow-node/#dflow-node","text":"DFlow Protocol is made up of a network of decentralized nodes that validate transactions and host order flow auctions on the DFlow appchain.","title":"DFlow Node"},{"location":"endorsement-server/","text":"DFlow Endorsement Server What is a DFlow Endorsement Server An Endorsement Server endorses certain actions like sending an order to DFlow by signing and attaching an Ed25519 public key to the request or transaction. Endorsing price quote requests and/or create auction transactions guarantee those actions came from the auction source and prevent DFlow network spam. Every order flow source routing orders to DFlow will run an Endorsement Server, an off-chain program that is a core part of DFlow's open and fair PFOF model. One of the key prerequisites to a successful PFOF model is associating intent with order flow (i.e. revealing level of adverse selection). Order flow with intent is valuable to market makers and a well-designed PFOF model returns value to the users. Trading venue reveals intent Where users trade can say a few things about who they are and why they trade. Every trading venue markets towards a specific type of users and uses UI/UX or authentication to target that group of people. In stocks, the Robinhood users have a very different persona than Interactive Brokers users. In crypto, users on Uniswap on Ethereum can be quite different from users on MetaMask Swap. What does an Endorsement Server do The order flow source running the Endorsement Server has to endorse all price quote requests and new order transactions. Each order flow source has an endorsement key (an Ed25519 key pair) associated with its DFlow account and an endorsement means the order flow source signed the request or transaction with its private key. Endorsements prevent network spam from malicious actors and guarantees the user sending the transaction came from the original trading venue. In this case, a malicious actor with toxic flow can't pretend to be MetaMask and route its own order flow to DFlow. Signing requests and transactions The order flow source can implement custom logic to check / safeguard its Endorsement Server. An approved endorsement will return the requester the endorser's public key , signature and expiration time , which can also be set by the endorser. Verifying requests and transactions The endorsed price quote request or new order transaction will be sent to a signatory server, which will verify the endorser signed properly. All others will be rejected.","title":"DFlow Endorsement Server"},{"location":"endorsement-server/#dflow-endorsement-server","text":"","title":"DFlow Endorsement Server"},{"location":"endorsement-server/#what-is-a-dflow-endorsement-server","text":"An Endorsement Server endorses certain actions like sending an order to DFlow by signing and attaching an Ed25519 public key to the request or transaction. Endorsing price quote requests and/or create auction transactions guarantee those actions came from the auction source and prevent DFlow network spam. Every order flow source routing orders to DFlow will run an Endorsement Server, an off-chain program that is a core part of DFlow's open and fair PFOF model. One of the key prerequisites to a successful PFOF model is associating intent with order flow (i.e. revealing level of adverse selection). Order flow with intent is valuable to market makers and a well-designed PFOF model returns value to the users.","title":"What is a DFlow Endorsement Server"},{"location":"endorsement-server/#trading-venue-reveals-intent","text":"Where users trade can say a few things about who they are and why they trade. Every trading venue markets towards a specific type of users and uses UI/UX or authentication to target that group of people. In stocks, the Robinhood users have a very different persona than Interactive Brokers users. In crypto, users on Uniswap on Ethereum can be quite different from users on MetaMask Swap.","title":"Trading venue reveals intent"},{"location":"endorsement-server/#what-does-an-endorsement-server-do","text":"The order flow source running the Endorsement Server has to endorse all price quote requests and new order transactions. Each order flow source has an endorsement key (an Ed25519 key pair) associated with its DFlow account and an endorsement means the order flow source signed the request or transaction with its private key. Endorsements prevent network spam from malicious actors and guarantees the user sending the transaction came from the original trading venue. In this case, a malicious actor with toxic flow can't pretend to be MetaMask and route its own order flow to DFlow.","title":"What does an Endorsement Server do"},{"location":"endorsement-server/#signing-requests-and-transactions","text":"The order flow source can implement custom logic to check / safeguard its Endorsement Server. An approved endorsement will return the requester the endorser's public key , signature and expiration time , which can also be set by the endorser.","title":"Signing requests and transactions"},{"location":"endorsement-server/#verifying-requests-and-transactions","text":"The endorsed price quote request or new order transaction will be sent to a signatory server, which will verify the endorser signed properly. All others will be rejected.","title":"Verifying requests and transactions"},{"location":"fetching-price-quotes/","text":"Fetch price quotes Learn how to fetch price quotes from market makers DFlow makes the distinction by calling one the Indicative Quote and the other the Firm Quote. You fetch quotes by hitting the endpoints on a Signatory Server. Indicative quote An Indicative Quote is provided by market makers to give a continuous stream of price quotes for you to display to your users. This is a high throughput endpoint that can be called to give users an approximation of the \"real\" price, where DFlow defines the \"real\" price as the executable price. Firm quote A Firm Quote is an executable price, meaning users will be able to have their orders filled at the Firm Quote. I.e when fetched, the receive quantity will be calculated from the Firm Quote and displayed to users, and users will be guaranteed that receive quantity assuming fill success. Fetching a Firm Quote, unlike an Indicative Quote, also returns a crafted DFlow transaction, which your user can then sign to complete the order transaction. Note this price quote endpoint is rate-limited which means you should refrain from retrieving Firm Quotes unless necessary (when user has intent of submitting an order).","title":"Fetch price quote"},{"location":"fetching-price-quotes/#fetch-price-quotes","text":"","title":"Fetch price quotes"},{"location":"fetching-price-quotes/#learn-how-to-fetch-price-quotes-from-market-makers","text":"DFlow makes the distinction by calling one the Indicative Quote and the other the Firm Quote. You fetch quotes by hitting the endpoints on a Signatory Server.","title":"Learn how to fetch price quotes from market makers"},{"location":"fetching-price-quotes/#indicative-quote","text":"An Indicative Quote is provided by market makers to give a continuous stream of price quotes for you to display to your users. This is a high throughput endpoint that can be called to give users an approximation of the \"real\" price, where DFlow defines the \"real\" price as the executable price.","title":"Indicative quote"},{"location":"fetching-price-quotes/#firm-quote","text":"A Firm Quote is an executable price, meaning users will be able to have their orders filled at the Firm Quote. I.e when fetched, the receive quantity will be calculated from the Firm Quote and displayed to users, and users will be guaranteed that receive quantity assuming fill success. Fetching a Firm Quote, unlike an Indicative Quote, also returns a crafted DFlow transaction, which your user can then sign to complete the order transaction. Note this price quote endpoint is rate-limited which means you should refrain from retrieving Firm Quotes unless necessary (when user has intent of submitting an order).","title":"Firm quote"},{"location":"fill-order/","text":"Fill order Learn how to fill orders when you receive order flow If you are the winning market maker of an auction epoch, you will receive the exclusive right to fill the underlying order flow up to the Notional amount or until the end of the Generic Epoch Delivery Period (or Genesis Epoch Delivery Period for the first epoch). If you choose to not fill the orders, you will forfeit the bid amount and the rest of the orders will be routed to the Backup Liquidity Provider specified in the auction.","title":"Fill order"},{"location":"fill-order/#fill-order","text":"","title":"Fill order"},{"location":"fill-order/#learn-how-to-fill-orders-when-you-receive-order-flow","text":"If you are the winning market maker of an auction epoch, you will receive the exclusive right to fill the underlying order flow up to the Notional amount or until the end of the Generic Epoch Delivery Period (or Genesis Epoch Delivery Period for the first epoch). If you choose to not fill the orders, you will forfeit the bid amount and the rest of the orders will be routed to the Backup Liquidity Provider specified in the auction.","title":"Learn how to fill orders when you receive order flow"},{"location":"flow-price/","text":"Flow price A market-based order flow price improves transparency and price discovery A flow price is the price to fill a specific token pair's order flow, as calculated from market maker payments over time. A marketplace for order flow means order flow can be priced, for the first time. In traditional equities, PFOF is conducted behind-the-scenes over contracts between the brokerage firm and the market maker (e.g. Robinhood and Citadel). Price and contract terms are both opaque, and clearly, this is a nonideal form of price discovery of order flow. Order flow belongs to the users. By introducing live, market-based pricing for order flow, DFlow brings transparency to the gated PFOF model found in traditional stock markets. Crypto brokerages can also take advantage of live public order flow prices to make calculations on what that means for their existing order flow. Where to see order flow prices Order flow pricing will be shown like stock prices and be an integral part of the DFlow interface . Prices are retrieved live from DFlow auctions, where market makers compete by bidding into auctions.","title":"Flow price"},{"location":"flow-price/#flow-price","text":"","title":"Flow price"},{"location":"flow-price/#a-market-based-order-flow-price-improves-transparency-and-price-discovery","text":"A flow price is the price to fill a specific token pair's order flow, as calculated from market maker payments over time. A marketplace for order flow means order flow can be priced, for the first time. In traditional equities, PFOF is conducted behind-the-scenes over contracts between the brokerage firm and the market maker (e.g. Robinhood and Citadel). Price and contract terms are both opaque, and clearly, this is a nonideal form of price discovery of order flow. Order flow belongs to the users. By introducing live, market-based pricing for order flow, DFlow brings transparency to the gated PFOF model found in traditional stock markets. Crypto brokerages can also take advantage of live public order flow prices to make calculations on what that means for their existing order flow.","title":"A market-based order flow price improves transparency and price discovery"},{"location":"flow-price/#where-to-see-order-flow-prices","text":"Order flow pricing will be shown like stock prices and be an integral part of the DFlow interface . Prices are retrieved live from DFlow auctions, where market makers compete by bidding into auctions.","title":"Where to see order flow prices"},{"location":"getting-started/","text":"Getting started This section details the onboarding process for both order flow sources (i.e. wallets, swappers, aggregators) and market makers. For order flow sources Order flow sources need to complete a simple setup process of running Endorsement Server and interfacing with Signatory Server to create order flow auctions and route orders to the appropriate auctions. After the initial setup, brokerages will primarily use the DFlow interface to create and manage auctions, and carry out other day-to-day business operations. For market makers Market makers will bid into first-price sealed-bid auctions and after a bid-reveal scheme, the winning market maker will receive the exclusive right to fill the underlying orders of the auction epoch. The bid-reveal scheme is meant to disincentivize market makers from bidding the minimum increment in a bidding war.","title":"Getting started"},{"location":"getting-started/#getting-started","text":"This section details the onboarding process for both order flow sources (i.e. wallets, swappers, aggregators) and market makers.","title":"Getting started"},{"location":"getting-started/#for-order-flow-sources","text":"Order flow sources need to complete a simple setup process of running Endorsement Server and interfacing with Signatory Server to create order flow auctions and route orders to the appropriate auctions. After the initial setup, brokerages will primarily use the DFlow interface to create and manage auctions, and carry out other day-to-day business operations.","title":"For order flow sources"},{"location":"getting-started/#for-market-makers","text":"Market makers will bid into first-price sealed-bid auctions and after a bid-reveal scheme, the winning market maker will receive the exclusive right to fill the underlying orders of the auction epoch. The bid-reveal scheme is meant to disincentivize market makers from bidding the minimum increment in a bidding war.","title":"For market makers"},{"location":"liquidity-model/","text":"Liquidity Models Price discovery is the process of determining the proper price of an asset or security. Developing appropriate and efficient liquidity models to discover prices is crucial to well-functioning markets. While there is no all-around best liquidity model, some are better for specific purposes (e.g. there are reasons stocks are not bought and sold in auctions). Here's an overview of popular liquidity models and all of this is relevant because DFlow is developing a type of liquidity to better discover prices for retail order flow. Overview: Same Genes, Different Paths All liquidity models are designed to find asset prices, but they result in different properties. Central Limit Order Book (CLOB) CLOB is the most widely used exchange method in traditional markets. An order book provides liquidity and price discovery for assets by having market makers put up bid and ask prices. While market makers provide liquidity, market takers take liquidity off the order book (e.g. Bob market buys 50 SOL at $10). The primary reason CLOBs are not prevalent on-chain is because Ethereum, the largest L1, has high gas costs which make putting up and cancelling quotes very expensive for market makers. On the other hand, Solana's high throughput and low cost network allows Serum, an on-chain CLOB, to be built. Automated Market Maker (AMM) AMMs were built and popularized under blockchain constraints. Instead of an order book, AMMs enable price discovery through pooled capital from liquidity providers (LPs). The LPs on AMMs are similar to the market makers on order books; however, LPs are mostly passive and do not quote bid and ask prices (concentrated liquidity is an exception). Pricing of assets is done by market forces based on a mathematical formula such as the constant product formula, x * y = k . Request for quote (RFQ) RFQ is a very common way to trade OTC products (like corporate bonds) but is not as common on the blockchain. As the name suggests, market takers request quotes (e.g. request to buy 10 SOL) from market makers and pick the best one. RFQ is generally preferred for large illiquid positions. Auctions Auctions , both English and Dutch auctions, are available for selling NFTs (although most NFT sales still use fixed prices). Dutch auctions are also seen in DeFi loan liquidations. Relation to DFlow On DFlow, order flow is batched and sold in first-price sealed-bid auctions. The winning market maker internalizes the orders, meaning the market maker fills them from its own inventory. The market could source its inventory using any of the above methods.","title":"Liquidity Models"},{"location":"liquidity-model/#liquidity-models","text":"Price discovery is the process of determining the proper price of an asset or security. Developing appropriate and efficient liquidity models to discover prices is crucial to well-functioning markets. While there is no all-around best liquidity model, some are better for specific purposes (e.g. there are reasons stocks are not bought and sold in auctions). Here's an overview of popular liquidity models and all of this is relevant because DFlow is developing a type of liquidity to better discover prices for retail order flow.","title":"Liquidity Models"},{"location":"liquidity-model/#overview-same-genes-different-paths","text":"All liquidity models are designed to find asset prices, but they result in different properties.","title":"Overview: Same Genes, Different Paths"},{"location":"liquidity-model/#central-limit-order-book-clob","text":"CLOB is the most widely used exchange method in traditional markets. An order book provides liquidity and price discovery for assets by having market makers put up bid and ask prices. While market makers provide liquidity, market takers take liquidity off the order book (e.g. Bob market buys 50 SOL at $10). The primary reason CLOBs are not prevalent on-chain is because Ethereum, the largest L1, has high gas costs which make putting up and cancelling quotes very expensive for market makers. On the other hand, Solana's high throughput and low cost network allows Serum, an on-chain CLOB, to be built.","title":"Central Limit Order Book (CLOB)"},{"location":"liquidity-model/#automated-market-maker-amm","text":"AMMs were built and popularized under blockchain constraints. Instead of an order book, AMMs enable price discovery through pooled capital from liquidity providers (LPs). The LPs on AMMs are similar to the market makers on order books; however, LPs are mostly passive and do not quote bid and ask prices (concentrated liquidity is an exception). Pricing of assets is done by market forces based on a mathematical formula such as the constant product formula, x * y = k .","title":"Automated Market Maker (AMM)"},{"location":"liquidity-model/#request-for-quote-rfq","text":"RFQ is a very common way to trade OTC products (like corporate bonds) but is not as common on the blockchain. As the name suggests, market takers request quotes (e.g. request to buy 10 SOL) from market makers and pick the best one. RFQ is generally preferred for large illiquid positions.","title":"Request for quote (RFQ)"},{"location":"liquidity-model/#auctions","text":"Auctions , both English and Dutch auctions, are available for selling NFTs (although most NFT sales still use fixed prices). Dutch auctions are also seen in DeFi loan liquidations. Relation to DFlow On DFlow, order flow is batched and sold in first-price sealed-bid auctions. The winning market maker internalizes the orders, meaning the market maker fills them from its own inventory. The market could source its inventory using any of the above methods.","title":"Auctions"},{"location":"mm-dashboard/","text":"Market Maker Dashboard The Market Maker Dashboard lets market makers bid into Genesis Epochs of auctions on DFlow. TODO","title":"Market Maker Dashboard"},{"location":"mm-dashboard/#market-maker-dashboard","text":"The Market Maker Dashboard lets market makers bid into Genesis Epochs of auctions on DFlow. TODO","title":"Market Maker Dashboard"},{"location":"nbbo/","text":"Decentralized NBBO DNBBO guarantees orders are filled at the best available price The decentralized NBBO (DNBBO) is an analogue to the NBBO created by the SEC to ensure brokerage firms provide customers with the best publicly available prices. National Best Bid And Offer In US equities, stocks are traded on 10+ different registered exchanges, primarily under NYSE, NASDAQ, and CBOE. The National Best Bid and Offer (NBBO) is a consolidated quote showing the highest bid and lowest offer price from across all exchanges. It's basically to serve as a benchmark for market makers. DFlow programmatically requires market makers to fill orders at prices at or better than the DNBBO. Orders filled at prices within the the DNBBO quote are called price improvements.","title":"Decentralized NBBO"},{"location":"nbbo/#decentralized-nbbo","text":"","title":"Decentralized NBBO"},{"location":"nbbo/#dnbbo-guarantees-orders-are-filled-at-the-best-available-price","text":"The decentralized NBBO (DNBBO) is an analogue to the NBBO created by the SEC to ensure brokerage firms provide customers with the best publicly available prices. National Best Bid And Offer In US equities, stocks are traded on 10+ different registered exchanges, primarily under NYSE, NASDAQ, and CBOE. The National Best Bid and Offer (NBBO) is a consolidated quote showing the highest bid and lowest offer price from across all exchanges. It's basically to serve as a benchmark for market makers. DFlow programmatically requires market makers to fill orders at prices at or better than the DNBBO. Orders filled at prices within the the DNBBO quote are called price improvements.","title":"DNBBO guarantees orders are filled at the best available price"},{"location":"order-flow-auction/","text":"Order flow auction What is an order flow auction The DFlow order flow auction is core to DFlow and is fundamental to understanding DFlow's open and fair PFOF model. On DFlow, order flow is tranched and batched into auctions created by brokerages. Market makers then bid on auctions to receive the right to fill the underlying order flow. Advantages over the traditional PFOF model DFlow reinvents the PFOF model by introducing transparency and fairness to the PFOF model seen in the traditional stock market. Traditionally, order flow is sold using long-term contracts with opaque terms between brokerages and market makers. By conducting PFOF on the blockchain, DFlow allows participants to clearly see the entire trade lifecycle including order flow batching, bidding, and filling. Furthermore, a decentralized PFOF model allows any market maker to participate in bidding, which results in better price for users and more competitive payments for crypto brokerages. Structure of an auction DFlow use first-price sealed-bid auctions that run in a parallel, sequential manner. Crypto brokerages can run multiple auctions at the same time, where each auction has a set of predetermined specs that identify the underlying order flow. Each auction is automatically sold repeatedly where an epoch number is incremented to identify the vintage of a specific auction. The auction only requires a one-time setup and will last as long as it's not canceled. erDiagram WALLET-A ||--|| AUCTION-A : creates WALLET-A ||--|| AUCTION-B : creates WALLET-A ||--|| AUCTION-C : creates AUCTION-A { string baseCurrency string quoteCurrency int minimumOrderSize int maximumOrderSize int notionalSize int genesisEpochDuration int genesisEpochDeliveryPeriod int genericEpochDeliveryPeriod string feePayer string backupLiquidityProvider } AUCTION-B { string baseCurrency string quoteCurrency int minimumOrderSize int maximumOrderSize int notionalSize int genesisEpochDuration int genesisEpochDeliveryPeriod int genericEpochDeliveryPeriod string feePayer string backupLiquidityProvider } AUCTION-C { string baseCurrency string quoteCurrency int minimumOrderSize int maximumOrderSize int notionalSize int genesisEpochDuration int genesisEpochDeliveryPeriod int genericEpochDeliveryPeriod string feePayer string backupLiquidityProvider } Rationale behind the structure As a result of this PFOF model, market makers bid in auctions to fill future batches of order flow, eliminating the speculation that market makers can see order details before paying for order flow. Market makers price auctions based on the predetermined specs and external factors like where these order flow came from. A sequential auction model is chosen to enable continuous bidding and delivery of order flow. Overview of auction parameters Each auction, like a contract, is defined by a set of parameters that determines the quality and grade of the underlying. Order flow sources should understand each parameter before creating auctions. Network DFlow is built as a chain agnostic PFOF infrastructure and Network defines the chain where order flow is coming from. Base and Quote Currency Each auction contains only one token pair. E.g. an auction will have WETH\u2013USDC as the underlying token asset, where WETH is the Base Currency and USDC is the Quote Currency . Notional Notional specifies the amount, in USD, of order flow per epoch in the auction. E.g. $100,000 is the value per epoch. Min and Max Range An auction lets users define the Min and Max , both in USD, of the underlying token pair of the auction, where Min is inclusive and Max is exclusive. Orders following this range will be routed to the auction by the wallet or swapper. Genesis Epoch Duration The Genesis Epoch Duration can be set in hours or days and marks the end of the Bid + Reveal period of the first epoch, also known as the Genesis Epoch (or Epoch 0). Auctions are structured to run sequentially so note the end of this period also marks the beginning of the second epoch, or Epoch 1. Genesis Epoch Delivery Period Wallets are allowed to set a Genesis Epoch Delivery Period which starts immediately after the Genesis Epoch Duration and marks the end of the Delivery period for the first epoch. Sources of order flow must deliver the set Notional amount by the end of this period (i.e. this is the maximum delivery period). Generic Delivery Period The Generic Delivery Period applies to all epochs after the first and determines the maximum delivery period of an epoch. As a reminder, an epoch moves on to the next when either its Delivery period ends or Notinal amount is reached, the one that comes first. Fee Payer Auction owners can choose who pays, either the market maker or their users, for the L1 settlement transaction. This option is only available on low gas cost chains as it is not feasible for market makers to cover gas fees on chains like Ethereum during high usage periods. Backup Liquidity Provider As the name infers, the Backup Liquidity Provider is used as a backup when a market maker is not filling orders. For example, a winning market maker goes offline and does not respond to fill requests, or the winning market fills 80% of incoming orders and chooses to route remaining orders to the Backup LP. We will support various liquidity providers including 0x, 1Inch, Jupiter Aggregator etc. An order flow auction example An order flow source will specify the following parameters, where these parameters will apply for each subsequent epoch of this auction. Auction Parameter Value Network Solana Base Currency SOL Quote Currency USDC Min $20 Max $50 Notional $200,000 Genesis Epoch Duration 10 days Genesis Epoch Delivery Period 5 days Generic Epoch Delivery Period 10 minutes Fee Payer Market Maker Backup Liquidity Provider Jupiter Aggregator Overview of the rollover process An auction is comprised of an indefinite number of epochs. As mentioned above, an epoch defines the vintage or \"age\" of the auction. All epochs follow the same lifecycle and the epoch's length is the sum of: Bid Period : Market makers bid into auction Reveal Period : Market makers reveal bids Delivery Period : Order flow sources deliver order flow An epoch moves to the next epoch based on the behavior of the previous epoch, to ensure a continuous auction bid and delivery process. For more information, see DFlow auction behavior . Why Reveal Period A Reveal Period is needed because DFlow auctions are first-price sealed-bid auctions, meaning bids are encrypted. Because bids are submitted to DFlow validators and by definition, they will be public in the mempool, there needs to be a Reveal Period. Defining the Genesis Epoch Genesis Epoch is the first epoch of an auction. Auction owners define the Bid and Reveal period of this epoch by setting the Genesis Epoch Duration. They can also define the Delivery period by setting the Genesis Epoch Delivery Period. The reason behind a different treatment for the Genesis Epoch is to let auction owners prepare for the auction like ensuring their system is properly set up, promoting their auction (i.e. on social media), establishing credibility etc. gantt dateFormat MM-DD axisFormat %m-%d todayMarker off Current Time: milestone, 10-13, 12h section Genesis Bid Period :active, des1, 10-13, 3d Reveal Period :crit, des2, after des1, 3d Delivery Period :crit, des3, after des2, 3d Defining the Generic Epoch All epochs, excluding the first epoch, are classified as Generic Epoch . Generic Epoch Bid and Reveal periods are no longer user-defined and will depend on the previous epoch's Delivery Period. In this case, a new epoch starts when the Delivery period of the previous epoch starts and this epoch ends when its Delivery period ends. gantt dateFormat MM-DD axisFormat %m-%d todayMarker off Current Time: milestone, 10-20, 12h section Genesis Bid Period :done, des1, 10-13, 3d Reveal Period :done, des2, after des1, 3d Delivery Period :active, des3, after des2, 3d section Generic Bid Period :active, des4, after des2, 2d Reveal Period :crit, des5, after des4, 1d Delivery Period :crit, des6, after des5, 2d","title":"Order flow auction"},{"location":"order-flow-auction/#order-flow-auction","text":"","title":"Order flow auction"},{"location":"order-flow-auction/#what-is-an-order-flow-auction","text":"The DFlow order flow auction is core to DFlow and is fundamental to understanding DFlow's open and fair PFOF model. On DFlow, order flow is tranched and batched into auctions created by brokerages. Market makers then bid on auctions to receive the right to fill the underlying order flow.","title":"What is an order flow auction"},{"location":"order-flow-auction/#advantages-over-the-traditional-pfof-model","text":"DFlow reinvents the PFOF model by introducing transparency and fairness to the PFOF model seen in the traditional stock market. Traditionally, order flow is sold using long-term contracts with opaque terms between brokerages and market makers. By conducting PFOF on the blockchain, DFlow allows participants to clearly see the entire trade lifecycle including order flow batching, bidding, and filling. Furthermore, a decentralized PFOF model allows any market maker to participate in bidding, which results in better price for users and more competitive payments for crypto brokerages.","title":"Advantages over the traditional PFOF model"},{"location":"order-flow-auction/#structure-of-an-auction","text":"DFlow use first-price sealed-bid auctions that run in a parallel, sequential manner. Crypto brokerages can run multiple auctions at the same time, where each auction has a set of predetermined specs that identify the underlying order flow. Each auction is automatically sold repeatedly where an epoch number is incremented to identify the vintage of a specific auction. The auction only requires a one-time setup and will last as long as it's not canceled. erDiagram WALLET-A ||--|| AUCTION-A : creates WALLET-A ||--|| AUCTION-B : creates WALLET-A ||--|| AUCTION-C : creates AUCTION-A { string baseCurrency string quoteCurrency int minimumOrderSize int maximumOrderSize int notionalSize int genesisEpochDuration int genesisEpochDeliveryPeriod int genericEpochDeliveryPeriod string feePayer string backupLiquidityProvider } AUCTION-B { string baseCurrency string quoteCurrency int minimumOrderSize int maximumOrderSize int notionalSize int genesisEpochDuration int genesisEpochDeliveryPeriod int genericEpochDeliveryPeriod string feePayer string backupLiquidityProvider } AUCTION-C { string baseCurrency string quoteCurrency int minimumOrderSize int maximumOrderSize int notionalSize int genesisEpochDuration int genesisEpochDeliveryPeriod int genericEpochDeliveryPeriod string feePayer string backupLiquidityProvider }","title":"Structure of an auction"},{"location":"order-flow-auction/#rationale-behind-the-structure","text":"As a result of this PFOF model, market makers bid in auctions to fill future batches of order flow, eliminating the speculation that market makers can see order details before paying for order flow. Market makers price auctions based on the predetermined specs and external factors like where these order flow came from. A sequential auction model is chosen to enable continuous bidding and delivery of order flow.","title":"Rationale behind the structure"},{"location":"order-flow-auction/#overview-of-auction-parameters","text":"Each auction, like a contract, is defined by a set of parameters that determines the quality and grade of the underlying. Order flow sources should understand each parameter before creating auctions.","title":"Overview of auction parameters"},{"location":"order-flow-auction/#network","text":"DFlow is built as a chain agnostic PFOF infrastructure and Network defines the chain where order flow is coming from.","title":"Network"},{"location":"order-flow-auction/#base-and-quote-currency","text":"Each auction contains only one token pair. E.g. an auction will have WETH\u2013USDC as the underlying token asset, where WETH is the Base Currency and USDC is the Quote Currency .","title":"Base and Quote Currency"},{"location":"order-flow-auction/#notional","text":"Notional specifies the amount, in USD, of order flow per epoch in the auction. E.g. $100,000 is the value per epoch.","title":"Notional"},{"location":"order-flow-auction/#min-and-max-range","text":"An auction lets users define the Min and Max , both in USD, of the underlying token pair of the auction, where Min is inclusive and Max is exclusive. Orders following this range will be routed to the auction by the wallet or swapper.","title":"Min and Max Range"},{"location":"order-flow-auction/#genesis-epoch-duration","text":"The Genesis Epoch Duration can be set in hours or days and marks the end of the Bid + Reveal period of the first epoch, also known as the Genesis Epoch (or Epoch 0). Auctions are structured to run sequentially so note the end of this period also marks the beginning of the second epoch, or Epoch 1.","title":"Genesis Epoch Duration"},{"location":"order-flow-auction/#genesis-epoch-delivery-period","text":"Wallets are allowed to set a Genesis Epoch Delivery Period which starts immediately after the Genesis Epoch Duration and marks the end of the Delivery period for the first epoch. Sources of order flow must deliver the set Notional amount by the end of this period (i.e. this is the maximum delivery period).","title":"Genesis Epoch Delivery Period"},{"location":"order-flow-auction/#generic-delivery-period","text":"The Generic Delivery Period applies to all epochs after the first and determines the maximum delivery period of an epoch. As a reminder, an epoch moves on to the next when either its Delivery period ends or Notinal amount is reached, the one that comes first.","title":"Generic Delivery Period"},{"location":"order-flow-auction/#fee-payer","text":"Auction owners can choose who pays, either the market maker or their users, for the L1 settlement transaction. This option is only available on low gas cost chains as it is not feasible for market makers to cover gas fees on chains like Ethereum during high usage periods.","title":"Fee Payer"},{"location":"order-flow-auction/#backup-liquidity-provider","text":"As the name infers, the Backup Liquidity Provider is used as a backup when a market maker is not filling orders. For example, a winning market maker goes offline and does not respond to fill requests, or the winning market fills 80% of incoming orders and chooses to route remaining orders to the Backup LP. We will support various liquidity providers including 0x, 1Inch, Jupiter Aggregator etc.","title":"Backup Liquidity Provider"},{"location":"order-flow-auction/#an-order-flow-auction-example","text":"An order flow source will specify the following parameters, where these parameters will apply for each subsequent epoch of this auction. Auction Parameter Value Network Solana Base Currency SOL Quote Currency USDC Min $20 Max $50 Notional $200,000 Genesis Epoch Duration 10 days Genesis Epoch Delivery Period 5 days Generic Epoch Delivery Period 10 minutes Fee Payer Market Maker Backup Liquidity Provider Jupiter Aggregator","title":"An order flow auction example"},{"location":"order-flow-auction/#overview-of-the-rollover-process","text":"An auction is comprised of an indefinite number of epochs. As mentioned above, an epoch defines the vintage or \"age\" of the auction. All epochs follow the same lifecycle and the epoch's length is the sum of: Bid Period : Market makers bid into auction Reveal Period : Market makers reveal bids Delivery Period : Order flow sources deliver order flow An epoch moves to the next epoch based on the behavior of the previous epoch, to ensure a continuous auction bid and delivery process. For more information, see DFlow auction behavior . Why Reveal Period A Reveal Period is needed because DFlow auctions are first-price sealed-bid auctions, meaning bids are encrypted. Because bids are submitted to DFlow validators and by definition, they will be public in the mempool, there needs to be a Reveal Period.","title":"Overview of the rollover process"},{"location":"order-flow-auction/#defining-the-genesis-epoch","text":"Genesis Epoch is the first epoch of an auction. Auction owners define the Bid and Reveal period of this epoch by setting the Genesis Epoch Duration. They can also define the Delivery period by setting the Genesis Epoch Delivery Period. The reason behind a different treatment for the Genesis Epoch is to let auction owners prepare for the auction like ensuring their system is properly set up, promoting their auction (i.e. on social media), establishing credibility etc. gantt dateFormat MM-DD axisFormat %m-%d todayMarker off Current Time: milestone, 10-13, 12h section Genesis Bid Period :active, des1, 10-13, 3d Reveal Period :crit, des2, after des1, 3d Delivery Period :crit, des3, after des2, 3d","title":"Defining the Genesis Epoch"},{"location":"order-flow-auction/#defining-the-generic-epoch","text":"All epochs, excluding the first epoch, are classified as Generic Epoch . Generic Epoch Bid and Reveal periods are no longer user-defined and will depend on the previous epoch's Delivery Period. In this case, a new epoch starts when the Delivery period of the previous epoch starts and this epoch ends when its Delivery period ends. gantt dateFormat MM-DD axisFormat %m-%d todayMarker off Current Time: milestone, 10-20, 12h section Genesis Bid Period :done, des1, 10-13, 3d Reveal Period :done, des2, after des1, 3d Delivery Period :active, des3, after des2, 3d section Generic Bid Period :active, des4, after des2, 2d Reveal Period :crit, des5, after des4, 1d Delivery Period :crit, des6, after des5, 2d","title":"Defining the Generic Epoch"},{"location":"payment-for-order-flow/","text":"Payment For Order Flow Payment For Order Flow (PFOF) refers to market makers paying brokerage firms for their order flow. In other words, brokerages monetize their orders because of the inherent value in retail order flow. This is a win-win situation for all participants because: Retail traders receive order fills at better prices. Market makers can fill orders at better prices than on exchanges because they face less adverse selection when market making retail order flow. In fact, in traditional equities, market makers compete with each other to deliver the most price improvement to win contracts with leading retail brokerages. Brokerage firms generate revenue from market makers who pay for their order flow. Exchanges don't pay brokerage firms for their order flow. Market makers have a more sustainable and stable business model. Because market makers face much less adverse selection risk, they do not have to worry about prices moving against them immediately after filling orders. As a result, they can fill orders at tighter spreads and consistently earn the bid-ask spread over time. Why is PFOF viewed negatively then? In traditional markets, PFOF has been criticized for lack of transparency behind order execution and arrangements between brokerages and market makers. The issue is they are not measurable or verifiable by anyone. The general distrust of traditional financial entities also doesn't help the narrative. Articles here and here go in-depth on the intuition and mechanics of PFOF. Info DFlow is reinventing the traditional PFOF model using a retail-first approach. By putting a heavy emphasis on transparency and fairness, DFlow algorithmically ensures best order execution.","title":"Payment-for-order-flow"},{"location":"payment-for-order-flow/#payment-for-order-flow","text":"Payment For Order Flow (PFOF) refers to market makers paying brokerage firms for their order flow. In other words, brokerages monetize their orders because of the inherent value in retail order flow. This is a win-win situation for all participants because: Retail traders receive order fills at better prices. Market makers can fill orders at better prices than on exchanges because they face less adverse selection when market making retail order flow. In fact, in traditional equities, market makers compete with each other to deliver the most price improvement to win contracts with leading retail brokerages. Brokerage firms generate revenue from market makers who pay for their order flow. Exchanges don't pay brokerage firms for their order flow. Market makers have a more sustainable and stable business model. Because market makers face much less adverse selection risk, they do not have to worry about prices moving against them immediately after filling orders. As a result, they can fill orders at tighter spreads and consistently earn the bid-ask spread over time.","title":"Payment For Order Flow"},{"location":"payment-for-order-flow/#why-is-pfof-viewed-negatively-then","text":"In traditional markets, PFOF has been criticized for lack of transparency behind order execution and arrangements between brokerages and market makers. The issue is they are not measurable or verifiable by anyone. The general distrust of traditional financial entities also doesn't help the narrative. Articles here and here go in-depth on the intuition and mechanics of PFOF. Info DFlow is reinventing the traditional PFOF model using a retail-first approach. By putting a heavy emphasis on transparency and fairness, DFlow algorithmically ensures best order execution.","title":"Why is PFOF viewed negatively then?"},{"location":"price-improvement/","text":"Price Improvement Price improvement happens when an order is executed at a better price than the best available pubic market price, known as the National Best Bid and Offer (NBBO). What is NBBO? NBBO is a consolidated view of the highest bid and lowest offer price from all exchanges and public trading venues. In the US, there are 10+ stock exchanges (e.g. NYSE, NASDAQ, IEX, CBOE etc.) registered with the SEC. If a token has a bid of $10.00 and offer of $10.50 on an exchange, a market maker might quote $10.20 to buy and $10.30 to sell if it knows it's filling retail order flow. A retail trader would have paid $10.00 to sell but now she can sell for $10.20 to the market maker \u2013 a price improvement of $0.20. On the other hand, a trader would have paid $10.50 to buy on the exchange but now she can buy for $10.30. The market maker makes $0.10 in spread and can pay the brokerage firm $0.04 (this is known as payment for order flow) while still netting $0.06. Market makers don't have to improve prices on all orders, but they are incentivized to do so because they compete with each other for order flow. For example, in traditional equities market, brokerage firms rank market makers based on the price improvements they offered over periods of time. A transparent and competitive PFOF market is important for producing more efficient prices (i.e. tight spreads) for retail traders. Size Improvement In addition to price improvement, market makers can provide size improvement, which happens when the number of filled shares is greater than what's available at the NBBO. Price and size improvement together bring real savings to retail traders. Info DFlow's open and fair PFOF model uses a price benchmark to algorithmically guarantee best execution from participating market makers.","title":"Price Improvement"},{"location":"price-improvement/#price-improvement","text":"Price improvement happens when an order is executed at a better price than the best available pubic market price, known as the National Best Bid and Offer (NBBO). What is NBBO? NBBO is a consolidated view of the highest bid and lowest offer price from all exchanges and public trading venues. In the US, there are 10+ stock exchanges (e.g. NYSE, NASDAQ, IEX, CBOE etc.) registered with the SEC. If a token has a bid of $10.00 and offer of $10.50 on an exchange, a market maker might quote $10.20 to buy and $10.30 to sell if it knows it's filling retail order flow. A retail trader would have paid $10.00 to sell but now she can sell for $10.20 to the market maker \u2013 a price improvement of $0.20. On the other hand, a trader would have paid $10.50 to buy on the exchange but now she can buy for $10.30. The market maker makes $0.10 in spread and can pay the brokerage firm $0.04 (this is known as payment for order flow) while still netting $0.06. Market makers don't have to improve prices on all orders, but they are incentivized to do so because they compete with each other for order flow. For example, in traditional equities market, brokerage firms rank market makers based on the price improvements they offered over periods of time. A transparent and competitive PFOF market is important for producing more efficient prices (i.e. tight spreads) for retail traders.","title":"Price Improvement"},{"location":"price-improvement/#size-improvement","text":"In addition to price improvement, market makers can provide size improvement, which happens when the number of filled shares is greater than what's available at the NBBO. Price and size improvement together bring real savings to retail traders. Info DFlow's open and fair PFOF model uses a price benchmark to algorithmically guarantee best execution from participating market makers.","title":"Size Improvement"},{"location":"public-dashboard/","text":"Public Dashboard DFlow is committed to creating a fair and transparent PFOF model. In addition to allowing anyone to track order flow auction performance, order execution quality, order flow toxicity etc., the DFlow Public Dashboard will display live market prices for all order flow on the network. This Public Dashboard will be bundled with the DFlow Wallet Dashboard as one product for the general public. Both products are coming soon.","title":"Public Dashboard"},{"location":"public-dashboard/#public-dashboard","text":"DFlow is committed to creating a fair and transparent PFOF model. In addition to allowing anyone to track order flow auction performance, order execution quality, order flow toxicity etc., the DFlow Public Dashboard will display live market prices for all order flow on the network. This Public Dashboard will be bundled with the DFlow Wallet Dashboard as one product for the general public. Both products are coming soon.","title":"Public Dashboard"},{"location":"reveal-bid/","text":"Reveal bid Learn when and how to reveal your bid DFlow uses first-price sealed-bid auctions so if you submitted a bid into an auction epoch, you will need to reveal your bid to win the epoch. I.e. if you forget to reveal your bid but your bid was the highest bid, you will not win the auction epoch. During the Reveal period, you will not be able to submit a new bid. By the end of the Reveal period, if you do not have the highest bid, whether you chose to reveal or not, you will get your bid amount returned. This bid-reveal scheme is meant to prevent a bidding war, where market makers bid the minimum amount to win the auction epoch. If you have the highest bid by the end of the Reveal period, you will become the winner and receive exclusive right to fill the underlying orders of the epoch. Note this is a right and if you choose to not fill, you will not be refunded the bid amount. Reveal Period Length The Reveal period lasts until the Delivery Period of the previous epoch ends. Because the Delivery Period of an epoch ends when the Notional amount is filled or Generic Epoch Delivery Period is up ( Genesis Epoch Delivery Period for the first epoch), you can monitor Notional or Generic Epoch Delivery Period to infer the Reveal Period length.","title":"Reveal bid"},{"location":"reveal-bid/#reveal-bid","text":"","title":"Reveal bid"},{"location":"reveal-bid/#learn-when-and-how-to-reveal-your-bid","text":"DFlow uses first-price sealed-bid auctions so if you submitted a bid into an auction epoch, you will need to reveal your bid to win the epoch. I.e. if you forget to reveal your bid but your bid was the highest bid, you will not win the auction epoch. During the Reveal period, you will not be able to submit a new bid. By the end of the Reveal period, if you do not have the highest bid, whether you chose to reveal or not, you will get your bid amount returned. This bid-reveal scheme is meant to prevent a bidding war, where market makers bid the minimum amount to win the auction epoch. If you have the highest bid by the end of the Reveal period, you will become the winner and receive exclusive right to fill the underlying orders of the epoch. Note this is a right and if you choose to not fill, you will not be refunded the bid amount. Reveal Period Length The Reveal period lasts until the Delivery Period of the previous epoch ends. Because the Delivery Period of an epoch ends when the Notional amount is filled or Generic Epoch Delivery Period is up ( Genesis Epoch Delivery Period for the first epoch), you can monitor Notional or Generic Epoch Delivery Period to infer the Reveal Period length.","title":"Learn when and how to reveal your bid"},{"location":"routing-order-flow/","text":"Route order flow Make sure you route orders to your auctions on time! You are responsible for developing an efficient way to route appropriate orders to your order flow auctions on DFlow. Each epoch in an auction has a Generic Epoch Delivery Period (or Genesis Epoch Delivery Period for the first epoch) which defines the maximum number of days after the start of the Delivery Period to deliver the predetermined Notional amount. When you fall short of delivering the full amount before end of delivery, you will receive a discount on the payment from market makers. Remember Your Delivery Period You can only deliver orders if the value you defined for Generic Epoch Delivery Day has not ended. Or, your delivered notional size has not hit the Notional amount. Mkae sure to check out auction behavior !","title":"Route order"},{"location":"routing-order-flow/#route-order-flow","text":"","title":"Route order flow"},{"location":"routing-order-flow/#make-sure-you-route-orders-to-your-auctions-on-time","text":"You are responsible for developing an efficient way to route appropriate orders to your order flow auctions on DFlow. Each epoch in an auction has a Generic Epoch Delivery Period (or Genesis Epoch Delivery Period for the first epoch) which defines the maximum number of days after the start of the Delivery Period to deliver the predetermined Notional amount. When you fall short of delivering the full amount before end of delivery, you will receive a discount on the payment from market makers. Remember Your Delivery Period You can only deliver orders if the value you defined for Generic Epoch Delivery Day has not ended. Or, your delivered notional size has not hit the Notional amount. Mkae sure to check out auction behavior !","title":"Make sure you route orders to your auctions on time!"},{"location":"sending-order-transaction/","text":"Send order transaction Learn how to send an order transaction to the winning market maker When a user shows intent of submitting an order, you can fetch a Firm Quote by sending a request to the signatory server. The signatory server will then check for endorsement, craft a DFlow transaction, and return the transaction. If the user proceeds with the order, the user will sign the transaction which gets forwarded to the market maker, who will approve and send the settlement transaction to the appropriate destination chain. On low gas cost chains, you have the option to delegate the market maker as the fee payer for the settlement transaction.","title":"Send order transaction"},{"location":"sending-order-transaction/#send-order-transaction","text":"","title":"Send order transaction"},{"location":"sending-order-transaction/#learn-how-to-send-an-order-transaction-to-the-winning-market-maker","text":"When a user shows intent of submitting an order, you can fetch a Firm Quote by sending a request to the signatory server. The signatory server will then check for endorsement, craft a DFlow transaction, and return the transaction. If the user proceeds with the order, the user will sign the transaction which gets forwarded to the market maker, who will approve and send the settlement transaction to the appropriate destination chain. On low gas cost chains, you have the option to delegate the market maker as the fee payer for the settlement transaction.","title":"Learn how to send an order transaction to the winning market maker"},{"location":"setting-up-an-endorsement-server/","text":"Set up a DFlow Endorsement Server Learn how to endorse quote requests and order transactions on DFlow Having an endorsement server up and running is the first step to onboarding with DFlow. The purpose of the endorsement server is to guarantee order flow sent by you is actually submitted by your users. This both attaches an intent on order flow, which helps with price discovery, and reduces network spam from malicious sources. The following actions on DFlow requires endorsement from the endorsement server: Fetching price quotes Submitting order transactions Define endorsement An endorsement is done by attaching an Ed25519 public key and signature to the data field of the request or transaction. When you endorse a request or transaction, you are marking that request or transaction as one that came from one of your users. Generate endorsement key To complete the endorsement server setup, you will need to generate an endorsement key, which can be any Ed25519 keypair. When you create your first auction, DFlow will prompt you to enter an existing public key (also an option to help you generate one). If your first auction is created successfully, DFlow will automatically generate an on-chain account for you which includes your endorsement key. Info Save your endorsement private key and ensure the endorsement public key you generated is also used to set up the endorsement server later. DFlow will check if you signed with the correct key. Deploy Endorsement Server An endorsement server will be delivered to you as a Docker image, which you can deploy on any server. The endorsement server gives you additional flexibility when it comes to preventing malicious actors from using your endorsement key to spam the network. After your endorsement server is setup, you can start routing orders to your DFlow auctions! Endorse user requests and transactions DFlow requires you to endorse price quote requests and user order transactions. Request and transactions without a proper endorsement will fail. An endorsement also comes with a preset timestamp, limiting actions to a certain period of time after endorsement.","title":"Set up a DFlow Endorsement Server"},{"location":"setting-up-an-endorsement-server/#set-up-a-dflow-endorsement-server","text":"","title":"Set up a DFlow Endorsement Server"},{"location":"setting-up-an-endorsement-server/#learn-how-to-endorse-quote-requests-and-order-transactions-on-dflow","text":"Having an endorsement server up and running is the first step to onboarding with DFlow. The purpose of the endorsement server is to guarantee order flow sent by you is actually submitted by your users. This both attaches an intent on order flow, which helps with price discovery, and reduces network spam from malicious sources. The following actions on DFlow requires endorsement from the endorsement server: Fetching price quotes Submitting order transactions","title":"Learn how to endorse quote requests and order transactions on DFlow"},{"location":"setting-up-an-endorsement-server/#define-endorsement","text":"An endorsement is done by attaching an Ed25519 public key and signature to the data field of the request or transaction. When you endorse a request or transaction, you are marking that request or transaction as one that came from one of your users.","title":"Define endorsement"},{"location":"setting-up-an-endorsement-server/#generate-endorsement-key","text":"To complete the endorsement server setup, you will need to generate an endorsement key, which can be any Ed25519 keypair. When you create your first auction, DFlow will prompt you to enter an existing public key (also an option to help you generate one). If your first auction is created successfully, DFlow will automatically generate an on-chain account for you which includes your endorsement key. Info Save your endorsement private key and ensure the endorsement public key you generated is also used to set up the endorsement server later. DFlow will check if you signed with the correct key.","title":"Generate endorsement key"},{"location":"setting-up-an-endorsement-server/#deploy-endorsement-server","text":"An endorsement server will be delivered to you as a Docker image, which you can deploy on any server. The endorsement server gives you additional flexibility when it comes to preventing malicious actors from using your endorsement key to spam the network. After your endorsement server is setup, you can start routing orders to your DFlow auctions!","title":"Deploy Endorsement Server"},{"location":"setting-up-an-endorsement-server/#endorse-user-requests-and-transactions","text":"DFlow requires you to endorse price quote requests and user order transactions. Request and transactions without a proper endorsement will fail. An endorsement also comes with a preset timestamp, limiting actions to a certain period of time after endorsement.","title":"Endorse user requests and transactions"},{"location":"signatory-server/","text":"DFlow Signatory Server What is a DFlow Signatory Server Every DFlow node or validator must run a Signatory Server. While the Signatory Server, an off-chain program, doesn't handle any order flow auction logic or state, it supports the DFlow Protocol. Fetch price quotes To display prices to users, crypto brokerages will need to request price quotes from the signatory server , which will retrieve the price from the auction winner (i.e. market maker who won the appropriate auction). The Signatory Server will check if the price request is endorsed and depending on the type of quote request (DFlow defines two types of quotes ), it will craft and return a transaction back to the user. Send transactions If the user submits the order (i.e. user signs the crafted transaction from Signatory Server), the Signatory Server will conduct proper checks and forward the user's signed transaction to the market maker (who won the auction) to be filled. The market maker will send a settlement transaction to the appropriate destination (i.e. the chain the order came from). Update DFlow ledger As order flow is delivered to auctions, the Signatory Server notifies the DFlow node to update the delivered notional amount. The delivered notional amount determines the progress of DFlow auctions. Monitor DFlow USDC Bridge Signatory Server checks and validates transactions on both DFlow and Solana to ensure deposits and withdrawals have the correct state changes. DFlow chose Solana as the chain to be the USDC on-ramp to the DFlow appchain.","title":"DFlow Signatory Server"},{"location":"signatory-server/#dflow-signatory-server","text":"","title":"DFlow Signatory Server"},{"location":"signatory-server/#what-is-a-dflow-signatory-server","text":"Every DFlow node or validator must run a Signatory Server. While the Signatory Server, an off-chain program, doesn't handle any order flow auction logic or state, it supports the DFlow Protocol.","title":"What is a DFlow Signatory Server"},{"location":"signatory-server/#fetch-price-quotes","text":"To display prices to users, crypto brokerages will need to request price quotes from the signatory server , which will retrieve the price from the auction winner (i.e. market maker who won the appropriate auction). The Signatory Server will check if the price request is endorsed and depending on the type of quote request (DFlow defines two types of quotes ), it will craft and return a transaction back to the user.","title":"Fetch price quotes"},{"location":"signatory-server/#send-transactions","text":"If the user submits the order (i.e. user signs the crafted transaction from Signatory Server), the Signatory Server will conduct proper checks and forward the user's signed transaction to the market maker (who won the auction) to be filled. The market maker will send a settlement transaction to the appropriate destination (i.e. the chain the order came from).","title":"Send transactions"},{"location":"signatory-server/#update-dflow-ledger","text":"As order flow is delivered to auctions, the Signatory Server notifies the DFlow node to update the delivered notional amount. The delivered notional amount determines the progress of DFlow auctions.","title":"Update DFlow ledger"},{"location":"signatory-server/#monitor-dflow-usdc-bridge","text":"Signatory Server checks and validates transactions on both DFlow and Solana to ensure deposits and withdrawals have the correct state changes. DFlow chose Solana as the chain to be the USDC on-ramp to the DFlow appchain.","title":"Monitor DFlow USDC Bridge"},{"location":"submitting-bid/","text":"Submit bid Learn how to submit bids into order flow auctions To win the right to fill order flow of an auction, you have to have the highest bid in the epoch. All DFlow auctions are organized as first-price sealed-bid auctions, meaning you can not see the other existing bids of the epoch during the Bidding Period. During the Bidding period, you can: Submit only one bid Resubmit bid, if a higher or lower bid is desired Cancel bid There is no limit on the number of auctions you can bid into. If you are taking delivery of order flow of the previous epoch, you can still submit bids into the current epoch of the same auction. Bidding vs. Reveal Period Each auction epoch has both a Bidding and Reveal period. The Bidding period lasts as long as the Delivery Period of the previous epoch multiplied by a factor (e.g. Time Factor or Notional Factor ), to ensure a smooth epoch rollover process. Immediately after Bidding period ends, you can no longer place a new bid and can reveal your bid, which will reveal the winner of that epoch. Actual Delivery Period Length Every auction defines its own maximum Delivery Period but the actual length is based off the Notional amount and Generic Epoch Delivery Period (or Genesis Epoch Delivery Period for the first epoch), whichever comes first.","title":"Submit bid"},{"location":"submitting-bid/#submit-bid","text":"","title":"Submit bid"},{"location":"submitting-bid/#learn-how-to-submit-bids-into-order-flow-auctions","text":"To win the right to fill order flow of an auction, you have to have the highest bid in the epoch. All DFlow auctions are organized as first-price sealed-bid auctions, meaning you can not see the other existing bids of the epoch during the Bidding Period. During the Bidding period, you can: Submit only one bid Resubmit bid, if a higher or lower bid is desired Cancel bid There is no limit on the number of auctions you can bid into. If you are taking delivery of order flow of the previous epoch, you can still submit bids into the current epoch of the same auction. Bidding vs. Reveal Period Each auction epoch has both a Bidding and Reveal period. The Bidding period lasts as long as the Delivery Period of the previous epoch multiplied by a factor (e.g. Time Factor or Notional Factor ), to ensure a smooth epoch rollover process. Immediately after Bidding period ends, you can no longer place a new bid and can reveal your bid, which will reveal the winner of that epoch. Actual Delivery Period Length Every auction defines its own maximum Delivery Period but the actual length is based off the Notional amount and Generic Epoch Delivery Period (or Genesis Epoch Delivery Period for the first epoch), whichever comes first.","title":"Learn how to submit bids into order flow auctions"},{"location":"understanding-auction-behavior/","text":"DFlow auction behavior A detailed walkthrough on how DFlow auctions behave See Order Flow Auction for auction structure and parameters. This section focuses on an auction epoch rollover example. The following example should illustrate the entire lifecycle and cover all auction cases. Day 0: Wallet A creates and deploys Auction A Auction Parameter Value Network Solana Base Currency SOL Quote Currency USDC Min $20 (inclusive) Max $50 (exclusive) Notional $200,000 Genesis Epoch Duration 10 days Genesis Epoch Delivery Period 5 days Generic Epoch Delivery Period 2 days Fee Payer Market Maker Backup Liquidity Provider Jupiter Aggregator DFlow Protocol hardcodes a set of factors to determine the ending of each epoch's Bid Period. These are not user defined. Protocol Parameter Value Time Factor 70% Notional Factor 70% Auction A's Genesis Epoch have the following Bid, Reveal, and Delivery Period: Bid Period: 7 days (Genesis Epoch Duration * Time Factor) = 10 days * 70% Reveal Period: 3 days (Genesis Epoch Duration - Genesis Epoch Bid Period) Delivery Period: the shorter of 5 days (Genesis Epoch Delivery Period) or when $200,000 (Notional) is delivered Unix Time vs. Notional Time Auction operators define the maximum length of the Delivery Period when setting Genesis Epoch Delivery Period and Generic Epoch Delivery Period. These times are defined in Unix time but DFlow also defines another element of time called Notional Time, which is defined as Delivered Notional over Total Notional. Delivering order flow increments the current Notional Time. The actual Delivery Period may be shorter. gantt dateFormat YYYY-MM-DD-HH axisFormat %Y-%m-%d-%H todayMarker off title Day 0 Current Time: milestone, 2022-10-13-00, 0d section Genesis Bid Period :active, des1, 2022-10-13-00, 7d Reveal Period :crit, des2, after des1, 3d Delivery Period (maximum) :crit, des3, after des2, 5d Day 8: Genesis Epoch Bid ends In the 7 days, three market makers submitted bids into Auction A. During this period, none of them or DFlow can see the bid values. Market Maker Blind Bid Value A $150 B $200 C $250 The Reveal Period starts and all three of them have 3 days to reveal their bids. No new bids can be submitted and market makers are not obligated to reveal. The winning bid will be selected from the pool of revealed bids. gantt dateFormat YYYY-MM-DD-HH axisFormat %Y-%m-%d-%H todayMarker off title Day 8 Current Time: milestone, 2022-10-20-00, 0d section Genesis Bid Period :done, des1, 2022-10-13-00, 7d Reveal Period :active, des2, after des1, 3d Delivery Period :crit, des3, after des2, 5d Day 11: Genesis Epoch Reveal ends All market makers have revealed. Market Maker C has the highest bid and thus, wins the right to fill $200,000 of SOL-USDC orders! This also marks the start of Epoch 1's Bid Period. Recap On Generic Epoch Epoch 1...N will be considered Generic Epochs. Wallet A now has a maximum of 5 days to deliver $200,000 worth of SOL-USDC of [$20,$50). Let's say Wallet A delivers $140,000 in 2 days. gantt dateFormat YYYY-MM-DD-HH axisFormat %Y-%m-%d-%H todayMarker off title Day 11 Current Time: milestone, 2022-10-23-00, 0d section Genesis Bid Period :done, des1, 2022-10-13-00, 7d Reveal Period :done, des2, after des1, 3d Delivery Period (maximum) :active, des3, after des2, 5d section Epoch 1 Bid Period :active, des4, after des2, 3d Reveal Period :crit, des5, after des4, 2d Delivery Period (maximum) :crit, des6, after des5, 2d Day 13: Epoch 1 Bid ends Epoch 1 has a Bid Period end time that's dependent on which of the following happens first: $140,000 (Total Notional Size * Notional Factor = $200,000 * 70%) 3.5 days (Genesis Epoch Delivery Days * Time Factor = 5 days * 70%) since start of Delivery Period In this case, Wallet ABC delivered $140,000 in 2 days. gantt dateFormat YYYY-MM-DD-HH axisFormat %Y-%m-%d-%H todayMarker off title Day 13 Current Time: milestone, 2022-10-25-00, 0d section Genesis Bid Period :done, des1, 2022-10-13-00, 7d Reveal Period :done, des2, after des1, 3d Delivery Period (Maximum) :active, des3, after des2, 5d section Epoch 1 Bid Period :active, des4, after des2, 2d Reveal Period :crit, des5, after des4, 3d Delivery Period (Maximum) :crit, des6, after des5, 2d Day 14: Generic Epoch Delivery and Epoch 1 Reveal ends at the same time Auction A delivers the other $60,000 the next day and Genesis Epoch has officially ended. Epoch 1 Reveal Period also ended and the next $200,000 worth of SOL-USDC starts being delivered to the winner of Epoch 1. Note Epoch 1 has a different maximum Delivery Period because auction operator defines Generic Epoch Delivery Period. gantt dateFormat YYYY-MM-DD-HH axisFormat %Y-%m-%d-%H todayMarker off title Day 14 Current Time: milestone, 2022-10-26-00, 0d section Genesis Bid Period :done, des1, 2022-10-13-00, 7d Reveal Period :done, des2, after des1, 3d Delivery Period (Actual) :done, des3, after des2, 3d section Epoch 1 Bid Period :done, des4, after des2, 2d Reveal Period :done, des5, after des4, 1d Delivery Period (Maximum) :active, des6, after des5, 2d section Epoch 2 Bid Period :active, des7, after des5, 1d Reveal Period :crit, des8, after des7, 1d Delivery Period (Maximum) :crit, des9, after des8, 2d Day N: Auction A will roll over indefinitely until it's cancelled.","title":"DFlow auction behavior"},{"location":"understanding-auction-behavior/#dflow-auction-behavior","text":"","title":"DFlow auction behavior"},{"location":"understanding-auction-behavior/#a-detailed-walkthrough-on-how-dflow-auctions-behave","text":"See Order Flow Auction for auction structure and parameters. This section focuses on an auction epoch rollover example. The following example should illustrate the entire lifecycle and cover all auction cases.","title":"A detailed walkthrough on how DFlow auctions behave"},{"location":"understanding-auction-behavior/#day-0-wallet-a-creates-and-deploys-auction-a","text":"Auction Parameter Value Network Solana Base Currency SOL Quote Currency USDC Min $20 (inclusive) Max $50 (exclusive) Notional $200,000 Genesis Epoch Duration 10 days Genesis Epoch Delivery Period 5 days Generic Epoch Delivery Period 2 days Fee Payer Market Maker Backup Liquidity Provider Jupiter Aggregator DFlow Protocol hardcodes a set of factors to determine the ending of each epoch's Bid Period. These are not user defined. Protocol Parameter Value Time Factor 70% Notional Factor 70% Auction A's Genesis Epoch have the following Bid, Reveal, and Delivery Period: Bid Period: 7 days (Genesis Epoch Duration * Time Factor) = 10 days * 70% Reveal Period: 3 days (Genesis Epoch Duration - Genesis Epoch Bid Period) Delivery Period: the shorter of 5 days (Genesis Epoch Delivery Period) or when $200,000 (Notional) is delivered Unix Time vs. Notional Time Auction operators define the maximum length of the Delivery Period when setting Genesis Epoch Delivery Period and Generic Epoch Delivery Period. These times are defined in Unix time but DFlow also defines another element of time called Notional Time, which is defined as Delivered Notional over Total Notional. Delivering order flow increments the current Notional Time. The actual Delivery Period may be shorter. gantt dateFormat YYYY-MM-DD-HH axisFormat %Y-%m-%d-%H todayMarker off title Day 0 Current Time: milestone, 2022-10-13-00, 0d section Genesis Bid Period :active, des1, 2022-10-13-00, 7d Reveal Period :crit, des2, after des1, 3d Delivery Period (maximum) :crit, des3, after des2, 5d","title":"Day 0: Wallet A creates and deploys Auction A"},{"location":"understanding-auction-behavior/#day-8-genesis-epoch-bid-ends","text":"In the 7 days, three market makers submitted bids into Auction A. During this period, none of them or DFlow can see the bid values. Market Maker Blind Bid Value A $150 B $200 C $250 The Reveal Period starts and all three of them have 3 days to reveal their bids. No new bids can be submitted and market makers are not obligated to reveal. The winning bid will be selected from the pool of revealed bids. gantt dateFormat YYYY-MM-DD-HH axisFormat %Y-%m-%d-%H todayMarker off title Day 8 Current Time: milestone, 2022-10-20-00, 0d section Genesis Bid Period :done, des1, 2022-10-13-00, 7d Reveal Period :active, des2, after des1, 3d Delivery Period :crit, des3, after des2, 5d","title":"Day 8: Genesis Epoch Bid ends"},{"location":"understanding-auction-behavior/#day-11-genesis-epoch-reveal-ends","text":"All market makers have revealed. Market Maker C has the highest bid and thus, wins the right to fill $200,000 of SOL-USDC orders! This also marks the start of Epoch 1's Bid Period. Recap On Generic Epoch Epoch 1...N will be considered Generic Epochs. Wallet A now has a maximum of 5 days to deliver $200,000 worth of SOL-USDC of [$20,$50). Let's say Wallet A delivers $140,000 in 2 days. gantt dateFormat YYYY-MM-DD-HH axisFormat %Y-%m-%d-%H todayMarker off title Day 11 Current Time: milestone, 2022-10-23-00, 0d section Genesis Bid Period :done, des1, 2022-10-13-00, 7d Reveal Period :done, des2, after des1, 3d Delivery Period (maximum) :active, des3, after des2, 5d section Epoch 1 Bid Period :active, des4, after des2, 3d Reveal Period :crit, des5, after des4, 2d Delivery Period (maximum) :crit, des6, after des5, 2d","title":"Day 11: Genesis Epoch Reveal ends"},{"location":"understanding-auction-behavior/#day-13-epoch-1-bid-ends","text":"Epoch 1 has a Bid Period end time that's dependent on which of the following happens first: $140,000 (Total Notional Size * Notional Factor = $200,000 * 70%) 3.5 days (Genesis Epoch Delivery Days * Time Factor = 5 days * 70%) since start of Delivery Period In this case, Wallet ABC delivered $140,000 in 2 days. gantt dateFormat YYYY-MM-DD-HH axisFormat %Y-%m-%d-%H todayMarker off title Day 13 Current Time: milestone, 2022-10-25-00, 0d section Genesis Bid Period :done, des1, 2022-10-13-00, 7d Reveal Period :done, des2, after des1, 3d Delivery Period (Maximum) :active, des3, after des2, 5d section Epoch 1 Bid Period :active, des4, after des2, 2d Reveal Period :crit, des5, after des4, 3d Delivery Period (Maximum) :crit, des6, after des5, 2d","title":"Day 13: Epoch 1 Bid ends"},{"location":"understanding-auction-behavior/#day-14-generic-epoch-delivery-and-epoch-1-reveal-ends-at-the-same-time","text":"Auction A delivers the other $60,000 the next day and Genesis Epoch has officially ended. Epoch 1 Reveal Period also ended and the next $200,000 worth of SOL-USDC starts being delivered to the winner of Epoch 1. Note Epoch 1 has a different maximum Delivery Period because auction operator defines Generic Epoch Delivery Period. gantt dateFormat YYYY-MM-DD-HH axisFormat %Y-%m-%d-%H todayMarker off title Day 14 Current Time: milestone, 2022-10-26-00, 0d section Genesis Bid Period :done, des1, 2022-10-13-00, 7d Reveal Period :done, des2, after des1, 3d Delivery Period (Actual) :done, des3, after des2, 3d section Epoch 1 Bid Period :done, des4, after des2, 2d Reveal Period :done, des5, after des4, 1d Delivery Period (Maximum) :active, des6, after des5, 2d section Epoch 2 Bid Period :active, des7, after des5, 1d Reveal Period :crit, des8, after des7, 1d Delivery Period (Maximum) :crit, des9, after des8, 2d","title":"Day 14: Generic Epoch Delivery and Epoch 1 Reveal ends at the same time"},{"location":"understanding-auction-behavior/#day-n-auction-a-will-roll-over-indefinitely-until-its-cancelled","text":"","title":"Day N: Auction A will roll over indefinitely until it's cancelled."}]}